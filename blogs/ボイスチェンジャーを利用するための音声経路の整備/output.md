# ボイスチェンジャーを利用するための音声経路の整備

石射です．趣味で少女をやっています．

- VRChat や Discord
  はもちろん，対戦ゲームをやるときでさえ，音声コミュニケーションは日常的によく利用されます．
- それゆえに，趣味で少女をやるには音声会話は避け難く，ゆえにボイスチェンジャーの利用は欠かせない
- しかし，こうした会話用途でボイスチェンジャーを利用する場合，音声の流れを整備してやる必要がある．

## 背景

### 課題：ボイスチェンジャーアプリはそのままでは会話に使えない

- 現在のボイスチェンジャーアプリはそのままでは会話に使えません．

- ボイスチェンジャーは恋声，バ美声，Supertone Shift
  などがある．基本的にこれらは，音声を受け取って，それをどこかに出力します．

- それでは，この出力はどう設定するのでしょうか？音声入力の設定をデバイスで行うように，出力もデバイスで行います．

  - つまり，Discord や VRChat
    のような，変換後の音声を伝えたいアプリに直通できません．

- ですから，音声出力を受け取り，それを目的のアプリ（Discord
  など）に伝えるための仲介役が必要です．

  - ここは，仮想デバイス（e.g. Voicemeeter virtual cable）を使えばいい．

- ただ，皆さんには日常生活があります．趣味で少女をやっているからといって，仕事でも少女でいることが許されるわけではありません．

- つまり，切り替えが必要です．このような制御の必要性や利便性を考えると，もう少し込み入った設定をしておくとよいです．

  - こうした快適性は，日常利用において特に重要です．ここがおろそかだと，面倒になってやめてしまいます．

- この記事では，ボイスチェンジャーを会話において日常利用するために，**音声の経路**のためのアプリとその設定について説明します．

## 要求

指針を決めるとすべきことが明確になることが多いです．この記事でも同様に，まずは指針を決めます．
私が定める指針は次の 3 つです．

- ターゲットアプリケーションの設定が簡単
- ボイスチェンジャーの On/Off の切り替えが容易
- ボイスチェンジャー・アプリが落ちたときに地声を晒さない

これらについて，順に説明します．

### ターゲットアプリケーションの設定が簡単

私達が使うアプリケーションは多岐にわたります．Discord や Skype
などの音声通話サービス，VRChat や Resonite のようなソーシャル VR
アプリはもちろん，オンラインゲームなどもその対象になります．それら全ての音声設定を，ボイスチェンジャー用のものにしますか？
また，地声との切り替えの際に，毎回設定を変えるのでしょうか？

この箇所は，少なくとも Windows
においては，既定デバイスをそのまま利用できれば変更は不要です．
したがって，途中経路はどうあれ，出力が常に同じ仮想デバイスになされれば，非常に使いやすいわけです．

### ボイスチェンジャーの On/Off の切り替えが容易

- 私達には日常生活があります．
- 趣味で少女をやっているからといって，常に少女でいることが許されているわけではありません．
  - 仕事の際に少女の声で会話をすると，仮に怒られることがなかったとしても，あなたの趣味を知らない人には混乱を与えるでしょう．
- また，家族や友人に少女の振る舞いを見られたくもないでしょう．
  - あるいは，彼らに己が所業を見せつけますか？
  - その場合，常に，知人に己が振る舞いを知られている前提で振舞うことになりませんか？
  - つまり，その状態で**エロ布を着てダンスポールに胸をこすりつけながら M
    字開脚**ができますか？
- 乙女の振る舞いは秘することで守られるのです．

### ボイスチェンジャー・アプリが落ちたときに地声を晒さない

- 趣味で少女をやる以上，その奥にいる成人男性の気配を出すわけにはいきません．
- 何らかの理由でアプリケーションというのは落ちるものです．しかし，このとき，地声を晒すことはうれしくありません．地声を晒すくらいなら，声自体を届かなくする方がよいでしょう．このようなセーフティネットが実現できると望ましいです．
- 乙女の魅力は秘することで守られるのです．

## 構成

- Overview: 音声の経路と経由アプリ
- sound router (VoiceMeeter Potato)
  - VoiceMeeter の説明
  - 出力チャンネル
  - 入力チャンネル
  - 音声の経路
- Voice Changer
  - ボイチェンアプリをここで使う．恋声とか，バ美声とか，Shift とか
  - たいてい，input と output を設定する画面があるので
  - （補足）VST
    プラグインを使う場合，ホストアプリが必要です（私の別の記事のリンク）

## 設定

各アプリにおける具体的な設定を説明します．

### VoiceMeeter の設定

- （構成する流れの図）
- Virtual aux Input
  を中間生成音声の経由地とするので，ここを開けておきましょう．
- マイク入力は B2 に流します
- ボイチェンアプリは B2 の入力を受け取り，Virtual aux Input
  に出力を流し込みます（そうなるように設定します（後述））
- 変換後の音声が Virtual aux Input
  に流れるので，これを規定出力デバイスたる B1 に流します

### ボイチェンアプリの設定

大抵のボイすチェンジャー・アプリは，音声入力デバイスと音声出力デバイスとを設定することができます．ここに適切な仮想デバイスを設定すればよいです．

- 入力に B2 に相当するものを設定
- 出力に Virtual Aux Input に相当するものを設定

### 備考：よりコンパクトだけど危ない音声経路

- 上の構成では，中間音声を通すために使えないチャンネルが生じていました（B2
  と Virtual aux Input）
- しかし，VoiceMeeter
  では，よりコンパクトな，このようなチャンネルを生じさせない方法をとることができます．
- insert を使う方法です．
- 設定方法
  1.  マイクの出力先を，最終出力チャンネル（私の場合は B1）にします．
  2.  設定から，insert を指定します
  3.  ボイチェンアプリは，この insert を参照させる
- そうすると，音声は出力の**途中**でボイチェンアプリを通るようになるため，使えないチャンネルが生じません．よりコンパクトな方法です．
- しかし，注意点があります．この構成でボイチェンアプリが落ちた場合，地声が出力されます．
- 上述の構成は，無駄が多い代わりに，安全です．ボイチェンアプリの起動し忘れや事故による地声の流出を防止することができます．趣味で少女をやる用途においては，より適切な方法と言えます．
- とはいえ，Insert
  によるコンパクトな構成が悪いということはありません．生の音声（この場合，地声）が漏れても問題ないケースであれば，より良いでしょう．どちらが良いかは目的によると言えます．

## 使い方

基本的には，次のことに留意すればよいです．

- **最終出力は B1**
  - 緊急で地声を伝えたい場合は，マイク入力を直接 B1
    につなげることでできる
  - ただ，設定の変更のし忘れで地声を晒すことになる危険があるので，これはあまりやらずに，ボイチェンアプリの設定を変える方がいい
- **変換のための入力は B2**
  - どんな入力でも，B2
    に設定したものはボイチェンアプリに取り込まれて変換される
- **Virtual aux Input はモニター用**
  - 中間音声が経由する場所です．
  - 結果が聞きたい場合は，このチャンネルの音声出力デバイス用チャンネル（例:
    A1, A2）を有効にしましょう．
  - 他のアプリの入力として割り当てるべきではありません．

（補足）
上述のものはあくまで**私の設定**の場合です．最終出力や中間出力は好きなところに設定してよいです．たとえば，中間出力を
B1 にし，最終出力を B3 にしてもよいです．いずれにしても，

以下では，日常的に行われるいくつかのケースについて，実際に行う操作を説明します．

### 地声とボイスチェンジャーの声との切り替え

- 緊急で地声を伝えたい場合は，マイク入力を直接 B1 につなげることでできる
- あるいは，ボイチェンアプリの設定を変えることでも実現できます

### 新たなアプリケーションを利用する場合

- アプリの音声入力は B1 に相当するものを常に登録すればいい

### 新たなボイスチェンジャーアプリを利用する場合

入力に B2 に相当するものを設定し， 出力に Virtual Aux Input
に相当するものを設定しましょう．それだけでおしまいです．

複数を同時に利用することはできないので，使ってない方のアプリは落としておいてください
（両方使うと，両方の出力が混じった音になります） （こんなふうに）

### 遅延が大きい環境下においてボイスチェンジャーを利用する場合

ループバックの遅延が 0.2
秒程度あると発話が困難になることが報告されています\[1\]．
この程度の遅延は，利用するボイスチェンジャー・アプリや音声入出力デバイスなどによって簡単に生じます．
このような場合，ループバックはいっそ聞かない方がいいです．
ループバックを無効にするには，Virtual aux Input のデバイス出力（A1, A2,
A3, A4, A5 のいずれか，またはすべて）を無効にすればよいです．
変換後の音声が聞こえないため発声等の調整は困難が生じますが，システムを信じるか，あるいは気合で乗り切りましょう．

### 音声の録音

OBS であろうと何であろうと，基本的にやることは変わりません．音声は B1
から出力されますから，マイクのデバイスを B1
に相当するもの`ここに実際の名前が入る`に設定するだけです．あとは，録画・録音ボタンを押せば変換後の音声が入ります．

### アプリケーションの音声の即時的な共有

少し例外的な使い方です． YouTube
の音声などをその場で即時に伝えたい場合，Virtual Input の B1
を有効にすればいいです．そうすると，音声がそのまま出力にも流れます．ターゲット・アプリケーションに対しては，マイク入力として入力されることになります．

## 最後に

本稿で説明した音声経路，およびそのためのアプリの構成は，ボイスチェンジャーに限らず，音声に対し何らかの加工を与えたい場合に利用できます．
たとえば，ボイスチェンジャーの代わりに VST ホストと VST
プラグインを用いれば，イコライザー，コンプレッサー，リミッターなどを適用することができます．
何かと便利です．

<div id="refs" class="references csl-bib-body" entry-spacing="0">

<div id="ref-kurihara_speechjammer_2012" class="csl-entry">

<span class="csl-left-margin">\[1\]
</span><span class="csl-right-inline">Kazutaka Kurihara and Koji
Tsukada. 2012. SpeechJammer: A System Utilizing Artificial Speech
Disturbance with Delayed Auditory Feedback.
<https://doi.org/10.48550/arXiv.1202.6106></span>

</div>

</div>
